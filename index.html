-- Δημιουργία πίνακα χρηστών
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  username TEXT UNIQUE NOT NULL,
  password TEXT NOT NULL,
  email TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc'::text, NOW())
);

-- Δημιουργία πίνακα καταχωρήσεων ημερολογίου
CREATE TABLE entries (
  id SERIAL PRIMARY KEY,
  date TEXT NOT NULL,
  text TEXT NOT NULL,
  username TEXT NOT NULL,
  status TEXT,
  location TEXT NOT NULL DEFAULT 'farsala',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc'::text, NOW())
);

-- Δημιουργία ευρετηρίου για γρήγορη αναζήτηση
CREATE INDEX idx_entries_date_location ON entries(date, location);
CREATE INDEX idx_users_username ON users(username);
CREATE INDEX idx_users_email ON users(email);

-- Ενδεικτική εισαγωγή δοκιμαστικών χρηστών (προαιρετικά)
INSERT INTO users (username, password, email) VALUES 
('nikos', '1234', 'nikos@example.com'),
('maria', '5678', 'maria@example.com'),
('admin', '0000', 'admin@example.com');
